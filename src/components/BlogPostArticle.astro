---
interface Props {
    post: any;
    homepage: boolean;
}

import FormattedDate from "@/components/FormattedDate.astro";
import Link from "@/components/Link.astro";

const { post, homepage } = Astro.props;
const { title, description, postDate, tags, categories } = post.data;
const { Content } = await post.render();

---
<article class="prose my-6">
    <div class="xl:col-span-3">
        {post.image &&
            <img src={post.image?.url} alt={post.image?.alt} />
        }
        <div class="space-y-6">
            <div>
                {homepage &&          
                <h2 class="text-2xl font-bold leading-8 tracking-tight">
                    <Link href={`/${post.slug}`}
                            class="text-gray-900 dark:text-gray-100">
                        {title}
                    </Link>
                </h2>
                }
            </div>
            <dl>
                <dt class="sr-only">Published on</dt>
                <dd>
                    <FormattedDate date={postDate}/>
                </dd>
                <dt class="sr-only">Categories</dt>
                <dd>
                    <p><em>{categories.map(cat => (<a class="mr-3" href={`/tags/${cat}`}>{cat}</a>))}</em></p>
                </dd>                
                <dt class="sr-only">Description</dt>
                <dd>
                    <p><em>{description}</em></p>
                </dd>
            </dl>
            <div class="prose">
                <Content />
            </div>
            <div class="flex flex-wrap">
                {tags.map(tag => (<a class="mr-3" href={`/tags/${tag}`}>{tag}</a>))}
            </div>
        </div>
    </div>
</article>

